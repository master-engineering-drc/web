<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MED ‚Ä¢ √âlectricit√© & Solaire | Lubumbashi & Kolwezi</title>
  <meta name="description" content="Master Engineering DRC (MED) ‚Äî installations √©lectriques, maintenance, mise aux normes, √©clairage, √©nergies renouvelables, tableaux √©lectriques. Interventions rapides et garanties."/>
  <meta property="og:title" content="MED ‚Ä¢ √âlectricit√© & Solaire" />
  <meta property="og:description" content="Installations √©lectriques fiables, solaires hybrides, maintenance et mise aux normes." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#004080" />

  <!-- ‚úÖ Tailwind CDN officiel (v3) + config palette -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'media',
      theme: {
        container: { center: true, padding: '1rem' },
        extend: {
          colors: {
            brand: '#004080',
            yellowBrand: '#FFD700',
            ink: '#000000',
            muted: '#555555',
          },
          boxShadow: {
            card: '0 10px 30px rgba(0,0,0,0.08)',
          },
          borderRadius: {
            xl: '18px',
          }
        }
      }
    }
  </script>

  <!-- Mini CSS util pour le <dialog> -->
  <style>
    dialog.lightbox { border: none; border-radius: 16px; padding: 0; max-width: min(92vw, 1000px); box-shadow: 0 10px 30px rgba(0,0,0,.18) }
    dialog::backdrop { background: rgba(0,0,0,.6) }
  </style>
</head>
<body class="bg-white text-ink antialiased">

  <!-- ===== Header ===== -->
  <header class="sticky top-0 z-50 bg-white/80 backdrop-blur border-b border-gray-200">
    <div class="container max-w-6xl flex items-center justify-between py-3">
      <!-- Brand -->
      <a href="#" class="flex items-center gap-3 font-extrabold">
        <span class="w-10 h-10 rounded-lg overflow-hidden grid place-items-center bg-gradient-to-br from-yellowBrand to-brand shadow-card">
          <img src="image/MED_img.png" alt="Logo MED" class="w-full h-full object-cover">
        </span>
        <span class="text-sm sm:text-base">MED ‚Ä¢ Master Engineering DRC</span>
      </a>

      <!-- Desktop nav -->
      <nav class="hidden lg:flex items-center gap-1 xl:gap-2">
        <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#services">Services</a>
        <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#process">Processus</a>
        <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#realisations">R√©alisations</a>
        <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#simulateur">Simulateur</a>
        <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#contact">Contact</a>
      </nav>

      <!-- Actions -->
      <div class="hidden md:flex items-center gap-2">
        <a href="tel:+243844894508" class="inline-flex items-center px-3 sm:px-4 py-2 rounded-lg bg-white border border-black text-brand font-semibold shadow-card text-sm sm:text-base">üìû +243 844 894 508</a>
        <a href="#devis" class="inline-flex items-center px-3 sm:px-4 py-2 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-semibold shadow-card text-sm sm:text-base">Demander un devis</a>
      </div>

      <!-- Mobile toggler -->
      <button id="navToggle" class="lg:hidden inline-flex items-center justify-center w-11 h-11 rounded-lg border border-gray-300 bg-white text-brand"
        aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="mobileMenu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>

    <!-- Mobile menu -->
    <div id="mobileMenu" class="lg:hidden hidden border-t border-gray-200 bg-white">
      <div class="container max-w-6xl py-3">
        <nav class="grid gap-1">
          <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#services">Services</a>
          <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#process">Processus</a>
          <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#realisations">R√©alisations</a>
          <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#simulateur">Simulateur</a>
          <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#contact">Contact</a>
          <a class="px-3 py-2 rounded-md font-semibold hover:bg-blue-50" href="#securite">S√©curit√©</a>

        </nav>
        <div class="mt-3 grid gap-2 sm:flex sm:items-center sm:gap-2">
          <a href="tel:+243844894508" class="inline-flex items-center justify-center px-4 py-2 rounded-lg bg-white border border-black text-brand font-semibold shadow-card">üìû +243 844 894 508</a>
          <a href="#devis" class="inline-flex items-center justify-center px-4 py-2 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-semibold shadow-card">Demander un devis</a>
        </div>
      </div>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <section class="relative min-h-[64vh] sm:min-h-[70vh] md:min-h-[72vh] grid items-center text-white">
    <div class="absolute inset-0 bg-[url('image/MED.png')] bg-cover bg-center -z-10"></div>
    <div class="absolute inset-0 -z-10 bg-gradient-to-b from-black/60 via-black/40 to-transparent"></div>

    <div class="container max-w-6xl grid gap-5 py-16 sm:py-20 md:py-24">
      <span class="inline-flex items-center gap-2 bg-yellow-100 text-black border border-yellowBrand px-3 py-1 rounded-full text-xs sm:text-sm font-semibold w-fit">
        Entreprise locale ‚Ä¢ Lubumbashi & Kolwezi
      </span>
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold leading-tight">
        Installations √©lectriques <em class="not-italic text-yellowBrand">fiables</em> & solutions solaires <em class="not-italic text-yellowBrand">performantes</em>.
      </h1>
      <p class="text-base sm:text-lg text-gray-200 max-w-3xl">
        Conception, installation, maintenance et mise aux normes pour particuliers, soci√©t√©s et sites industriels. Interventions rapides, garanties, conformit√© assur√©e.
      </p>
      <div class="flex flex-wrap gap-2 sm:gap-3">
        <a class="px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card" href="#contact">Parler √† un expert</a>
        <button id="openSim" class="px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg bg-white text-brand border border-black font-bold shadow-card">üìä Estimer ma consommation</button>
      </div>
      <div class="flex flex-wrap gap-2">
        <div class="backdrop-blur bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-sm sm:text-base font-semibold">‚öôÔ∏è Maintenance pr√©ventive & curative</div>
        <div class="backdrop-blur bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-sm sm:text-base font-semibold">üîå Tableaux & protections certifi√©s</div>
        <div class="backdrop-blur bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-sm sm:text-base font-semibold">üåû Syst√®mes solaires hybrides</div>
        <div class="backdrop-blur bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-sm sm:text-base font-semibold">üé• Vid√©osurveillance & alarmes</div>

      </div>
    </div>
  </section>

  <!-- ===== Services ===== -->
  <section id="services" class="py-14 sm:py-16">
    <div class="container max-w-6xl">
      <h2 class="text-2xl sm:text-3xl font-bold text-brand mb-2">Nos services</h2>
      <p class="text-muted mb-8">Des prestations pens√©es pour la s√©curit√©, la performance et l'√©conomie d'√©nergie.</p>

      <div class="grid grid-cols-12 gap-4">
        <!-- 6 cards : 12 ‚Üí 6 ‚Üí 4 colonnes -->
        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Installation √©lectrique</h3>
          <p class="text-muted">Habitation, commerce, industrie ‚Äî √©tude de charge, c√¢blage, prises, √©clairage, protections.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">Normes & conformit√©</span>
        </article>

        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Entretien & d√©pannage</h3>
          <p class="text-muted">Diagnostic rapide, r√©parations, remplacement de composants, plan de maintenance.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">24/7 sur contrat</span>
        </article>

        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Mise aux normes</h3>
          <p class="text-muted">Mise √† niveau des installations existantes : mise √† la terre, DDR, √©quilibrage des phases.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">Audit complet</span>
        </article>

        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">√âclairages</h3>
          <p class="text-muted">LED int./ext., s√©curit√©, d√©coratif, projecteurs, gestion DALI, d√©tecteurs de pr√©sence.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">jusqu'√† -60% conso</span>
        </article>

        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Solaire & hybrides</h3>
          <p class="text-muted">Dimensionnement, onduleurs hybrides, batteries Li-ion, couplage r√©seau/groupe.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">ROI optimis√©</span>
        </article>

        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Tableaux & comptage</h3>
          <p class="text-muted">Conception TGBT/TD, s√©lectivit√©, ATS, comptage sous-billing, √©tiquetage.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">Sch√©mas livr√©s</span>
        </article>

        <!-- Cam√©ras CCTV -->
        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Cam√©ras CCTV & Alarmes</h3>
          <p class="text-muted">√âtude des angles morts, pose IP/analogique, NVR, acc√®s mobile, d√©tection de mouvement, alarmes intrusion.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">Surveillance 24/7</span>
        </article>

         <!-- Plomberie -->
        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Plomberie</h3>
          <p class="text-muted">Alimentation eau froide/chaude, √©vacuations, chauffe-eau, pompes, d√©tection & r√©paration de fuites.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">Interventions rapides</span>
        </article>

         <!-- Applications web & mobile -->
        <article class="col-span-12 md:col-span-6 lg:col-span-4 bg-white rounded-xl border border-gray-200 p-6 shadow-card">
          <h3 class="text-lg sm:text-xl font-bold mb-1">Apps web & mobile</h3>
          <p class="text-muted">Sites vitrines, dashboards, e-commerce, Android/iOS, int√©gration API, h√©bergement & maintenance.</p>
          <span class="inline-block mt-3 px-2.5 py-1 rounded-full bg-blue-100 text-brand text-xs font-extrabold">Sur mesure</span>
        </article>

      </div>
    </div>
  </section>


  <section id="securite" class="py-14 sm:py-16 bg-[#eef6ff] border-y border-gray-200">
  <div class="container max-w-6xl">
    <div class="grid gap-6 md:grid-cols-2 items-center">
      <!-- Texte -->
      <div>
        <h2 class="text-2xl sm:text-3xl font-bold text-brand mb-3">S√©curit√© & CCTV ‚Äî prot√©gez vos sites 24/7</h2>
        <p class="text-muted mb-4">Nous concevons des solutions de vid√©osurveillance et d‚Äôalarme adapt√©es aux maisons, magasins, d√©p√¥ts et sites industriels.</p>

        <ul class="grid sm:grid-cols-2 gap-2 mb-5">
          <li class="flex items-start gap-2"><span>‚úÖ</span><span>Cam√©ras IP 2‚Äì8MP (jour/nuit, IR, d√¥me & bullet)</span></li>
          <li class="flex items-start gap-2"><span>‚úÖ</span><span>Enregistreurs NVR/HDD + stockage cloud</span></li>
          <li class="flex items-start gap-2"><span>‚úÖ</span><span>Vision √† distance (app mobile) & alertes</span></li>
          <li class="flex items-start gap-2"><span>‚úÖ</span><span>Alarmes intrusion, contr√¥le d‚Äôacc√®s, interphonie</span></li>
          <li class="flex items-start gap-2"><span>‚úÖ</span><span>√âtude des angles morts & plan de c√¢blage</span></li>
          <li class="flex items-start gap-2"><span>‚úÖ</span><span>Maintenance & SLA (remplacement rapide)</span></li>
        </ul>

        <div class="flex flex-wrap gap-2 mb-5">
          <span class="px-3 py-1 rounded-full bg-white border border-black text-brand text-sm font-semibold shadow-card">Garantie 12 mois</span>
          <span class="px-3 py-1 rounded-full bg-white border border-black text-brand text-sm font-semibold shadow-card">Mat√©riel pro (Hikvision/Dahua ou √©quiv.)</span>
          <span class="px-3 py-1 rounded-full bg-white border border-black text-brand text-sm font-semibold shadow-card">Conformit√© c√¢blage & parasurtenseurs</span>
        </div>

        <a href="#contact" class="inline-flex items-center px-4 py-2 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">
          Demander un audit s√©curit√© gratuit
        </a>
      </div>

      <!-- Visuel -->
      <div class="relative rounded-xl overflow-hidden shadow-card border border-gray-200 bg-white">
        <img src="image/cctv-hero.jpg" alt="Syst√®me de cam√©ras CCTV MED" class="w-full h-full object-cover">
        <div class="absolute left-3 bottom-3 bg-black/70 text-white px-3 py-1 rounded-md text-sm">Acc√®s mobile ‚Ä¢ Alertes instantan√©es</div>
      </div>
    </div>
  </div>
</section>


  <!-- ===== Processus ===== -->
  <section id="process" class="py-14 sm:py-16 bg-[#eef2f5] border-y border-gray-200">
    <div class="container max-w-6xl">
      <h2 class="text-2xl sm:text-3xl font-bold text-brand mb-2">Notre processus</h2>
      <p class="text-muted mb-6">Clair, rapide et s√©curis√©. Chaque √©tape est document√©e et valid√©e avec vous.</p>
      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        <div class="bg-gradient-to-b from-white to-[#f9fbff] border border-gray-200 rounded-xl p-5 shadow-card">
          <div class="w-9 h-9 grid place-items-center rounded-md bg-yellowBrand font-extrabold text-black">1</div>
          <h4 class="mt-3 font-bold">√âtude & devis</h4>
          <small class="text-muted">Visite du site, calculs de charge, choix du mat√©riel. Envoi d'un devis d√©taill√©.</small>
        </div>
        <div class="bg-gradient-to-b from-white to-[#f9fbff] border border-gray-200 rounded-xl p-5 shadow-card">
          <div class="w-9 h-9 grid place-items-center rounded-md bg-yellowBrand font-extrabold text-black">2</div>
          <h4 class="mt-3 font-bold">Installation</h4>
          <small class="text-muted">Tra√ßage/saign√©es, pose des conduits & c√¢bles, tableaux, √©clairage, essais.</small>
        </div>
        <div class="bg-gradient-to-b from-white to-[#f9fbff] border border-gray-200 rounded-xl p-5 shadow-card">
          <div class="w-9 h-9 grid place-items-center rounded-md bg-yellowBrand font-extrabold text-black">3</div>
          <h4 class="mt-3 font-bold">Recette & garantie</h4>
          <small class="text-muted">PV de tests, sch√©mas, mise en service, garantie 6 mois (dommages mineurs).</small>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== R√©alisations ===== -->
  <section id="realisations" class="py-14 sm:py-16">
    <div class="container max-w-6xl">
      <h2 class="text-2xl sm:text-3xl font-bold text-brand mb-2">R√©alisations r√©centes</h2>
      <p class="text-muted mb-6">Un aper√ßu de nos chantiers. Cliquez pour agrandir.</p>

      <!-- Grille responsive : 1 ‚Üí 2 ‚Üí 4 colonnes (‚úÖ suppression de xs:) -->
      <div class="grid grid-cols-12 gap-2 sm:gap-3">
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0042.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0042.jpg" alt="Installation 1">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0052.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0052.jpg" alt="Installation 2">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0043.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0043.jpg" alt="Installation 3">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0053.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0053.jpg" alt="Installation 4">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0044.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0044.jpg" alt="Installation 5">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0047.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0047.jpg" alt="Installation 6">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0048.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0048.jpg" alt="Installation 7">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
        <a class="col-span-12 sm:col-span-6 md:col-span-3 relative overflow-hidden rounded-lg group gl" href="#" data-img="image/IMG-20250128-WA0052.jpg">
          <img class="aspect-square object-cover transition-transform duration-300 group-hover:scale-105" src="image/IMG-20250128-WA0052.jpg" alt="Installation 8">
          <span class="absolute right-2 bottom-2 text-white text-xs bg-black/65 px-2 py-1 rounded">Voir</span>
        </a>
      </div>
    </div>
  </section>

<!-- ===== Simulateurs (bloc d'explication dynamique) ===== -->
<section id="simulateur" class="py-14 sm:py-16 bg-[#0b1220] text-gray-200">
  <div class="container max-w-6xl">
    <div class="flex items-center justify-between gap-4 flex-wrap mb-4">
      <h2 class="text-2xl sm:text-3xl font-bold text-blue-300">Simulateurs techniques</h2>
      <span class="bg-yellow-100 text-black border border-yellowBrand px-3 py-1 rounded-full text-xs sm:text-sm font-semibold">
        Outils indicatifs (r√©glables)
      </span>
    </div>

    <!-- Onglets -->
    <div class="flex flex-wrap gap-2 mb-5" role="tablist" aria-label="Simulateurs">
      <button class="sim-tab px-3 py-2 rounded-lg bg-white text-brand border border-black font-semibold shadow-card"
              data-target="#sim1" role="tab" aria-controls="sim1" aria-selected="true">Conso & co√ªt</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim2" role="tab" aria-controls="sim2" aria-selected="false">Multi-appareils</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim3" role="tab" aria-controls="sim3" aria-selected="false">Solaire (PV+batt.)</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim4" role="tab" aria-controls="sim4" aria-selected="false">Autonomie batt.</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim5" role="tab" aria-controls="sim5" aria-selected="false">C√¢ble & ŒîV</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim6" role="tab" aria-controls="sim6" aria-selected="false">Groupe √©lectrog√®ne</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim7" role="tab" aria-controls="sim7" aria-selected="false">√âclairage (lux)</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim8" role="tab" aria-controls="sim8" aria-selected="false">ROI solaire</button>
      <button class="sim-tab px-3 py-2 rounded-lg bg-white/10 border border-white/30 text-white"
              data-target="#sim9" role="tab" aria-controls="sim9" aria-selected="false">√âquilibrage phases</button>
    </div>

    <!-- ‚úÖ Bloc d'explication dynamique -->
    <div id="sim-explain" class="rounded-xl border border-gray-200/30 bg-white/10 p-4 sm:p-5 shadow-card mb-6" aria-live="polite">
      <h3 id="exp-title" class="text-lg sm:text-xl font-bold text-yellowBrand mb-2">Conso & co√ªt (1 appareil)</h3>
      <p id="exp-body" class="text-sm sm:text-base text-blue-100">
        <strong>kWh</strong> = (W/1000) √ó heures/jour √ó jours. <strong>Co√ªt</strong> = kWh √ó tarif (CDF/kWh).
      </p>
      <div id="exp-example" class="mt-3 text-sm sm:text-base text-blue-100">
        <h4 class="font-semibold text-blue-200 mb-1">Exemple</h4>
        <ul class="list-disc pl-5 space-y-1">
          <li>Puissance 1200 W, 3 h/j, 30 jours, tarif 800 CDF/kWh.</li>
          <li>Cliquer sur <em>Remplir l‚Äôexemple</em> puis <strong>Calculer</strong>.</li>
        </ul>
      </div>
      <button id="fillExampleBtn" class="mt-3 px-3 py-2 rounded-lg bg-white text-brand border border-black font-semibold shadow-card">
        Remplir l‚Äôexemple
      </button>
    </div>

    <!-- PANELS (un seul visible) -->
    <div class="grid gap-5">

      <!-- 1) Conso & co√ªt (1 appareil) -->
      <div id="sim1" class="sim-panel grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim1">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card">
          <div class="grid gap-3">
            <label class="font-semibold">Puissance (W)</label>
            <input id="s1_w" type="number" value="1200" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <label class="font-semibold">Heures par jour</label>
            <input id="s1_h" type="number" value="3" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <label class="font-semibold">Nombre de jours</label>
            <input id="s1_d" type="number" value="30" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <label class="font-semibold">Tarif (CDF/kWh)</label>
            <input id="s1_t" type="number" step="0.001" value="800" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <button id="s1_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Calculer</button>
            <div class="mt-2 text-brand dark:text-blue-300 font-extrabold">
              <div id="s1_kwh">0.00 kWh</div>
              <div id="s1_cost">FC0.00</div>
            </div>
          </div>
        </div>
      </div>

      <!-- 2) Multi-appareils -->
      <div id="sim2" class="sim-panel hidden" role="tabpanel" aria-labelledby="tab-sim2">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card">
          <div class="flex flex-wrap gap-2 mb-3">
            <label class="font-semibold">Tarif (CDF/kWh)</label>
            <input id="s2_tarif" type="number" step="0.001" value="800" class="p-2 rounded border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <button id="s2_add" class="px-3 py-2 rounded-lg bg-white border border-black text-brand font-semibold shadow-card">‚ûï Ajouter une ligne</button>
          </div>
          <div class="overflow-x-auto">
            <table class="min-w-[680px] w-full text-sm">
              <thead>
                <tr class="text-left text-gray-600 dark:text-gray-300">
                  <th class="py-2">Appareil</th><th>W</th><th>h/j</th><th>jours</th><th></th>
                </tr>
              </thead>
              <tbody id="s2_rows"></tbody>
            </table>
          </div>
          <div class="mt-3 flex flex-wrap gap-2 items-center">
            <button id="s2_calc" class="px-4 py-2 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Calculer total</button>
            <div id="s2_out" class="text-brand dark:text-blue-300 font-extrabold"></div>
          </div>
        </div>
      </div>

      <!-- 3) Solaire (PV + batteries) -->
      <div id="sim3" class="sim-panel hidden grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim3">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card grid gap-3">
          <label class="font-semibold">Conso journali√®re (kWh/j)</label>
          <input id="s3_kwhd" type="number" step="0.01" value="15" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Heures de soleil (PSH)</label>
          <input id="s3_psh" type="number" step="0.1" value="5" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Rendement syst√®me (0-1)</label>
          <input id="s3_sysEff" type="number" step="0.01" value="0.75" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Jours d‚Äôautonomie</label>
          <input id="s3_days" type="number" step="0.1" value="1.5" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">DoD (0-1)</label>
          <input id="s3_dod" type="number" step="0.01" value="0.8" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Rendement onduleur (0-1)</label>
          <input id="s3_invEff" type="number" step="0.01" value="0.92" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <div class="grid sm:grid-cols-2 gap-3">
            <div>
              <label class="font-semibold">Puissance panneau (W)</label>
              <input id="s3_pvw" type="number" value="550" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Tension batterie (V)</label>
              <input id="s3_vbat" type="number" value="48" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
          </div>
          <label class="font-semibold">Charge de pointe (W) (optionnel)</label>
          <input id="s3_peak" type="number" value="3500" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <button id="s3_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Dimensionner</button>
          <div class="mt-2 text-brand dark:text-blue-300 font-extrabold space-y-1">
            <div id="s3_pv">PV ‚âà ‚Äì kW (‚Äì panneaux)</div>
            <div id="s3_bat">Batteries ‚âà ‚Äì kWh (‚âà ‚Äì Ah @ ‚Äì V)</div>
            <div id="s3_inv">Onduleur recommand√© : ‚Äì kW</div>
          </div>
        </div>
      </div>

      <!-- 4) Autonomie batterie -->
      <div id="sim4" class="sim-panel hidden grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim4">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card grid gap-3">
          <label class="font-semibold">Capacit√© batterie (kWh)</label>
          <input id="s4_kwh" type="number" step="0.1" value="10" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">DoD (0-1)</label>
          <input id="s4_dod" type="number" step="0.01" value="0.8" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Rendement onduleur (0-1)</label>
          <input id="s4_eff" type="number" step="0.01" value="0.92" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Charge (W)</label>
          <input id="s4_w" type="number" value="800" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <button id="s4_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Calculer</button>
          <div class="mt-2 text-brand dark:text-blue-300 font-extrabold" id="s4_out">‚Äì h (‚Äì h ‚Äì min)</div>
        </div>
      </div>

      <!-- 5) C√¢ble & chute de tension -->
      <div id="sim5" class="sim-panel hidden grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim5">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card grid gap-3">
          <div class="grid sm:grid-cols-2 gap-3">
            <div>
              <label class="font-semibold">Longueur aller (m)</label>
              <input id="s5_L" type="number" value="30" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Courant (A)</label>
              <input id="s5_I" type="number" value="16" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
          </div>
          <div class="grid sm:grid-cols-2 gap-3">
            <div>
              <label class="font-semibold">Tension (V)</label>
              <input id="s5_V" type="number" value="230" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Mat√©riau</label>
              <select id="s5_mat" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
                <option value="cu">Cuivre</option>
                <option value="al">Aluminium</option>
              </select>
            </div>
          </div>
          <label class="font-semibold">Chute max autoris√©e (%)</label>
          <input id="s5_max" type="number" step="0.1" value="3" class="p-3 rounded-lg border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800">
          <button id="s5_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Dimensionner</button>
          <div class="mt-2 text-brand dark:text-blue-300 font-extrabold space-y-1">
            <div id="s5_rec">Section recommand√©e : ‚Äì mm¬≤</div>
            <div id="s5_drop">Chute r√©elle ‚âà ‚Äì %</div>
          </div>
        </div>
      </div>

      <!-- 6) Groupe √©lectrog√®ne -->
      <div id="sim6" class="sim-panel hidden grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim6">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card grid gap-3">
          <label class="font-semibold">Puissance totale en r√©gime (W)</label>
          <input id="s6_w" type="number" value="5000" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Facteur de surtension</label>
          <input id="s6_k" type="number" step="0.1" value="1.2" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <div class="grid sm:grid-cols-2 gap-3">
            <div>
              <label class="font-semibold">PF (0-1)</label>
              <input id="s6_pf" type="number" step="0.01" value="0.8" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Marge</label>
              <input id="s6_m" type="number" step="0.05" value="1.25" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
          </div>
          <button id="s6_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Calculer</button>
          <div class="mt-2 text-brand dark:text-blue-300 font-extrabold" id="s6_out">‚Äì kVA (‚âà ‚Äì kW)</div>
        </div>
      </div>

      <!-- 7) √âclairage (lux) -->
      <div id="sim7" class="sim-panel hidden grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim7">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card grid gap-3">
          <div class="grid sm:grid-cols-2 gap-3">
            <div>
              <label class="font-semibold">Surface (m¬≤)</label>
              <input id="s7_area" type="number" value="50" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Lux cible</label>
              <input id="s7_lux" type="number" value="300" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
          </div>
          <div class="grid sm:grid-cols-2 gap-3">
            <div>
              <label class="font-semibold">UF (0-1)</label>
              <input id="s7_uf" type="number" step="0.05" value="0.6" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">MF (0-1)</label>
              <input id="s7_mf" type="number" step="0.05" value="0.8" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
          </div>
          <div class="grid sm:grid-cols-2 gap-3">
            <div>
              <label class="font-semibold">Flux luminaire (lm)</label>
              <input id="s7_lm" type="number" value="3000" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Puissance luminaire (W)</label>
              <input id="s7_w" type="number" value="24" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
          </div>
          <button id="s7_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Calculer</button>
          <div class="mt-2 text-brand dark:text-blue-300 font-extrabold space-y-1">
            <div id="s7_count">‚Äì luminaires</div>
            <div id="s7_power">Puissance totale ‚âà ‚Äì W</div>
          </div>
        </div>
      </div>

      <!-- 8) ROI solaire -->
      <div id="sim8" class="sim-panel hidden grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim8">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card grid gap-3">
          <label class="font-semibold">Co√ªt syst√®me (CDF)</label>
          <input id="s8_cost" type="number" value="8000" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Production annuelle (kWh)</label>
          <input id="s8_prod" type="number" value="6000" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Tarif r√©seau (CDF/kWh)</label>
          <input id="s8_tarif" type="number" step="0.001" value="800" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">Maintenance annuelle (CDF)</label>
          <input id="s8_maint" type="number" value="120" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <div class="grid sm:grid-cols-3 gap-3">
            <div>
              <label class="font-semibold">Ann√©es</label>
              <input id="s8_years" type="number" value="20" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Index tarif (%)</label>
              <input id="s8_escal" type="number" step="0.1" value="3" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
            <div>
              <label class="font-semibold">Taux d‚Äôactualisation (%)</label>
              <input id="s8_disc" type="number" step="0.1" value="8" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
            </div>
          </div>
          <button id="s8_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Calculer ROI</button>
          <div class="mt-2 text-brand dark:text-blue-300 font-extrabold space-y-1">
            <div id="s8_sav">√âconomies ann√©e 1 : ‚Äì CDF</div>
            <div id="s8_pb">Payback simple : ‚Äì ans</div>
            <div id="s8_npv">NPV (‚Äì ans) : ‚Äì CDF</div>
          </div>
        </div>
      </div>

      <!-- 9) √âquilibrage des phases -->
      <div id="sim9" class="sim-panel hidden grid gap-5 md:grid-cols-2" role="tabpanel" aria-labelledby="tab-sim9">
        <div class="bg-white text-ink dark:bg-[#111827] dark:text-white rounded-xl border border-gray-200 dark:border-slate-700 p-5 shadow-card grid gap-3">
          <p class="text-sm text-muted dark:text-gray-300">Entrez des charges (W) s√©par√©es par des virgules pour chaque phase.</p>
          <label class="font-semibold">L1 (W)</label>
          <input id="s9_l1" placeholder="ex: 1200, 800, 500" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">L2 (W)</label>
          <input id="s9_l2" placeholder="ex: 1000, 600" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <label class="font-semibold">L3 (W)</label>
          <input id="s9_l3" placeholder="ex: 900, 700" class="p-3 rounded-lg border dark:border-slate-600 bg-white dark:bg-slate-800">
          <button id="s9_btn" class="mt-2 px-4 py-3 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">Analyser</button>
          <div class="mt-2 text-brand dark:text-blue-300 font-extrabold space-y-1">
            <div id="s9_tot">L1: ‚Äì W | L2: ‚Äì W | L3: ‚Äì W</div>
            <div id="s9_imb">D√©s√©quilibre ‚âà ‚Äì %</div>
            <div id="s9_sug" class="text-sm font-bold"></div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>







  <!-- ===== Avis ===== -->
<section class="py-14 sm:py-16">
  <div class="container max-w-6xl">
    <h2 class="text-2xl sm:text-3xl font-bold text-brand mb-2">Avis clients</h2>
    <p class="text-muted mb-6">La satisfaction au c≈ìur de notre travail.</p>
    <div class="flex gap-3 overflow-x-auto pb-2 snap-x">
      <article class="snap-start min-w-[280px] sm:min-w-[320px] bg-white dark:bg-[#111827] border border-gray-200 dark:border-slate-700 rounded-xl p-5 shadow-card dark:text-white">
        <div class="text-yellowBrand">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        <p>Installation solaire impeccable, baisse de la facture et z√©ro coupure. Merci l'√©quipe MED !</p>
        <small class="text-muted dark:text-gray-300">‚Äî Mme K., Lubumbashi</small>
      </article>
      <article class="snap-start min-w-[280px] sm:min-w-[320px] bg-white dark:bg-[#111827] border border-gray-200 dark:border-slate-700 rounded-xl p-5 shadow-card dark:text-white">
        <div class="text-yellowBrand">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        <p>D√©pannage en urgence sur tableau : diagnostic clair et remise aux normes le jour m√™me.</p>
        <small class="text-muted dark:text-gray-300">‚Äî J. M., Golf</small>
      </article>
      <article class="snap-start min-w-[280px] sm:min-w-[320px] bg-white dark:bg-[#111827] border border-gray-200 dark:border-slate-700 rounded-xl p-5 shadow-card dark:text-white">
        <div class="text-yellowBrand">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
        <p>Chantier propre et bien document√©, j'ai re√ßu les sch√©mas et un rapport complet.</p>
        <small class="text-muted dark:text-gray-300">‚Äî Waffle Security</small>
      </article>
    </div>

    <div class="flex gap-3 overflow-x-auto pb-2 snap-x" id="reviewsList">
  <!-- ... tes <article> d'avis existants ... -->
    </div>

<!-- Bouton pour ouvrir le formulaire d'avis -->
    <div class="mt-4">
      <button id="openReview"
       class="px-4 py-2 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-bold shadow-card">
       Laisser un avis
      </button>
    </div>

  </div>
</section>

<!-- ===== FAQ ===== -->
<section class="py-14 sm:py-16 bg-[#eef2f5] dark:bg-[#111827]">
  <div class="container max-w-6xl">
    <h2 class="text-2xl sm:text-3xl font-bold text-brand mb-4">Questions fr√©quentes</h2>
    <details class="bg-white dark:bg-[#111827] border border-gray-200 dark:border-slate-700 rounded-lg p-4 mb-3 dark:text-white">
      <summary class="font-bold cursor-pointer">Proposez-vous des contrats de maintenance ?</summary>
      <p class="text-muted dark:text-gray-300 mt-2">Oui. Pr√©ventif (visites planifi√©es) et curatif (interventions rapides). Remises pour sites multi-points.</p>
    </details>
    <details class="bg-white dark:bg-[#111827] border border-gray-200 dark:border-slate-700 rounded-lg p-4 mb-3 dark:text-white">
      <summary class="font-bold cursor-pointer">Faites-vous des installations solaires hybrides ?</summary>
      <p class="text-muted dark:text-gray-300 mt-2">Oui : onduleurs hybrides, batteries Li-ion, priorit√©s r√©seau/groupe/solaire selon votre profil de charge.</p>
    </details>
    <details class="bg-white dark:bg-[#111827] border border-gray-200 dark:border-slate-700 rounded-lg p-4 dark:text-white">
      <summary class="font-bold cursor-pointer">Quelles garanties ?</summary>
      <p class="text-muted dark:text-gray-300 mt-2">Garantie 6 mois sur nos travaux (dommages mineurs) + garanties constructeur sur le mat√©riel.</p>
    </details>

    <details class="bg-white dark:bg-[#111827] border border-gray-200 dark:border-slate-700 rounded-lg p-4 mb-3 dark:text-white">
      <summary class="font-bold cursor-pointer">Puis-je voir mes cam√©ras sur t√©l√©phone ?</summary>
      <p class="text-muted dark:text-gray-300 mt-2">Oui. Nous configurons l‚Äôacc√®s s√©curis√© (app mobile/PC), alertes mouvement, partage d‚Äôacc√®s et sauvegarde distante.</p>
    </details>

  </div>
</section>


  <!-- ===== Contact ===== -->
  <section id="contact" class="py-14 sm:py-16 text-[#e5f4ff]" style="background:linear-gradient(135deg,#012b52,#004080)">
    <div class="container max-w-6xl">
      <h2 class="text-2xl sm:text-3xl font-bold text-yellowBrand mb-2">Contact direct</h2>
      <p class="text-blue-100 mb-6">Cliquez sur un num√©ro ou un lien pour nous joindre imm√©diatement.</p>

      <div class="mb-6 text-[1.02rem] sm:text-[1.05rem] leading-8">
        <p><strong>üìû T√©l√©phone :</strong> <a class="text-yellowBrand underline-offset-2 hover:underline" href="tel:+243990880720">+243 990 880 720</a> | <a class="text-yellowBrand underline-offset-2 hover:underline" href="tel:+243977078717">+243 977 078 717</a></p>
        <p><strong>üí¨ WhatsApp :</strong> <a class="text-yellowBrand underline-offset-2 hover:underline" target="_blank" href="https://wa.me/243990880720" rel="noopener noreferrer">+243 844 894 508</a></p>
        <p><strong>üåê Site web :</strong> <a class="text-yellowBrand underline-offset-2 hover:underline" target="_blank" href="https://master-engineering-drc.github.io/web/" rel="noopener noreferrer">med-electricite.com</a></p>
        <p><strong>üîó Facebook :</strong> <a class="text-yellowBrand underline-offset-2 hover:underline" target="_blank" href="https://facebook.com/MEDLubumbashi" rel="noopener noreferrer">facebook.com/MEDLubumbashi</a></p>
      </div>

      <!-- Form: 1 colonne mobile ‚Üí 2 colonnes md -->
      <form id="devisForm" class="grid gap-3 md:grid-cols-2">
        <input name="name" required placeholder="Votre nom"
               class="p-3 rounded-lg border border-white/40 bg-white/10 placeholder-blue-100/70 text-white md:col-span-1" />
        <input name="phone" required placeholder="T√©l√©phone / WhatsApp"
               class="p-3 rounded-lg border border-white/40 bg-white/10 placeholder-blue-100/70 text-white md:col-span-1" />
        <select name="service" required
                class="p-3 rounded-lg border border-white/40 bg-white/10 text-white md:col-span-2">
          <option value="">Choisir un service‚Ä¶</option>
          <option>Installation √©lectrique</option>
          <option>Maintenance / D√©pannage</option>
          <option>Mise aux normes</option>
          <option>√âclairage LED</option>
          <option>Solaire / Hybride</option>
          <option>Tableaux & Comptage</option>
          <option>Cam√©ras CCTV / Alarme</option>
          <option>Plomberie</option>
          <option>Applications web & mobile</option>

        </select>
        <textarea name="message" rows="4" placeholder="D√©crivez le site, la puissance approximative, les d√©lais‚Ä¶"
                  class="p-3 rounded-lg border border-white/40 bg-white/10 placeholder-blue-100/70 text-white md:col-span-2"></textarea>

        <div class="flex flex-wrap gap-2 md:col-span-2">
          <button type="reset" class="px-4 py-2 rounded-lg bg-transparent border border-yellowBrand text-yellowBrand font-semibold">Effacer</button>
          <button type="submit" class="px-4 py-2 rounded-lg bg-gradient-to-r from-brand to-yellowBrand text-white font-semibold shadow-card">Envoyer la demande</button>
          <a id="waQuick" href="#" class="px-4 py-2 rounded-lg bg-transparent border border-yellowBrand text-yellowBrand font-semibold">WhatsApp direct</a>
        </div>
        <small id="formMsg" class="text-blue-100 md:col-span-2"></small>
      </form>
    </div>
  </section>

  <!-- ===== Footer ===== -->
  <footer class="bg-[#001a33] text-white">
    <div class="container max-w-6xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 py-10">
      <div>
        <strong>MED ‚Ä¢ Master Engineering DRC</strong>
        <small class="block text-yellowBrand">CD/LSH/RCCM/25-B-00693</small>
        <small class="block">Lubumbashi ‚Äî Interventions Kolwezi & r√©gion</small>
      </div>
      <div>
        <strong>Contact</strong>
        <small class="block text-yellowBrand">üìû +243 844 894 508</small>
        <small class="block text-yellowBrand">üìû +243 900 174 502</small>
        <small class="block">‚úâÔ∏è masterengineeringdrc1@gmail.com</small>
      </div>
      <div>
        <strong>Horaires</strong>
        <small class="block">Lun‚ÄìSam : 8h‚Äì17h</small>
        <small class="block">Urgences sous contrat</small>
      </div>
      <div>
        <strong>L√©gal</strong>
        <small class="block">¬© 2025 ‚Äî Tous droits r√©serv√©s</small>
        <small class="block">Conformit√© & s√©curit√© √©lectrique</small>
      </div>
    </div>
  </footer>

  <!-- ===== Floating actions ===== -->
  <div class="fixed right-4 bottom-4 z-50 grid gap-2">
    <a class="w-12 h-12 sm:w-14 sm:h-14 rounded-2xl grid place-items-center bg-yellowBrand text-black font-extrabold shadow-card"
       title="√âcrire sur WhatsApp" aria-label="WhatsApp"
       href="https://wa.me/243990880720" target="_blank" rel="noopener noreferrer">WA</a>
    <a class="w-12 h-12 sm:w-14 sm:h-14 rounded-2xl grid place-items-center bg-brand text-white font-extrabold shadow-card"
       title="Haut de page" aria-label="Haut" href="#">‚Üë</a>
  </div>

  <!-- ===== Lightbox ===== -->
  <dialog class="lightbox" id="lightbox"><img id="lightImg" alt="Photo chantier"/></dialog>

  <!-- ===== Modal : Laisser un avis ===== -->
<dialog class="lightbox" id="reviewDlg">
  <form id="reviewForm" class="p-5 sm:p-6 bg-white rounded-xl text-ink grid gap-3 min-w-[min(92vw,520px)]">
    <h3 class="text-lg font-bold">Laisser un avis</h3>

    <input name="name" required placeholder="Votre nom"
           class="p-3 rounded-lg border border-gray-300" />

    <div class="flex items-center gap-2">
      <span class="font-semibold">Note :</span>
      <div id="stars" class="flex gap-1 text-2xl select-none"></div>
      <input type="hidden" name="rating" id="rating" value="5" />
    </div>

    <textarea name="message" rows="4" required placeholder="Votre message‚Ä¶"
              class="p-3 rounded-lg border border-gray-300"></textarea>

    <div class="grid gap-2 sm:flex sm:justify-end">
      <button type="button" id="reviewMail"
              class="px-3 py-2 rounded-lg border border-black text-brand font-semibold">Envoyer par e-mail</button>
      <button type="button" id="reviewWA"
              class="px-3 py-2 rounded-lg border border-yellowBrand text-yellowBrand font-semibold">Envoyer par WhatsApp</button>
      <button type="button" id="reviewCancel"
              class="px-3 py-2 rounded-lg border border-gray-300">Annuler</button>
    </div>
  </form>
</dialog>


  <!-- ===== JS ===== -->
  <script>
    // Menu mobile
    const navToggle = document.getElementById('navToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    navToggle?.addEventListener('click', () => {
      const isHidden = mobileMenu.classList.contains('hidden');
      mobileMenu.classList.toggle('hidden');
      navToggle.setAttribute('aria-expanded', String(isHidden));
    });

    // Gallery lightbox
    const dlg = document.getElementById('lightbox');
    const lightImg = document.getElementById('lightImg');
    document.querySelectorAll('.gl').forEach(a=>{
      a.addEventListener('click', e=>{e.preventDefault();lightImg.src=a.dataset.img;dlg.showModal();})
    });
    dlg?.addEventListener('click', () => dlg.close());

    // Hero -> scroll vers simulateur
    document.getElementById('openSim')?.addEventListener('click',()=>{
      document.getElementById('simulateur')?.scrollIntoView({behavior:'smooth'});
    });

    // Simulateur
    const fmt = n => Number(n).toLocaleString(undefined,{maximumFractionDigits:2});
    document.getElementById('calcBtn')?.addEventListener('click',()=>{
      const W = +document.getElementById('watt').value||0;
      const h = +document.getElementById('hours').value||0;
      const d = +document.getElementById('days').value||0;
      const t = +document.getElementById('tarif').value||0;
      const kwh = (W/1000) * h * d;
      const cost = kwh * t;
      document.getElementById('kwh').textContent = fmt(kwh) + ' kWh';
      document.getElementById('cost').textContent = 'FC' + fmt(cost);
    });

    // Devis: WhatsApp auto + fallback mailto
    const f = document.getElementById('devisForm');
    const msg = document.getElementById('formMsg');
    const waQuick = document.getElementById('waQuick');
    const waNumber = '243990880720';
    f?.addEventListener('input',()=>{
      const data = new FormData(f);
      const text = `Bonjour MED, je souhaite un devis pour: ${data.get('service')||''}%0A`+
                   `Nom: ${data.get('name')||''}%0A`+
                   `T√©l√©phone: ${data.get('phone')||''}%0A`+
                   `D√©tails: ${encodeURIComponent(data.get('message')||'')}%0A`;
      waQuick.href = `https://wa.me/${waNumber}?text=${text}`;
    });
    f?.addEventListener('submit',(e)=>{
      e.preventDefault();
      const data = new FormData(f);
      const body = `Nom: ${data.get('name')}%0A`+
                   `T√©l√©phone: ${data.get('phone')}%0A`+
                   `Service: ${data.get('service')}%0A`+
                   `Message: ${encodeURIComponent(data.get('message')||'')}`;
      location.href = `mailto:masterengineeringdrc1@gmail.com?subject=Demande de devis MED&body=${body}`;
      msg.textContent = 'Ouverture de votre application mail‚Ä¶ Vous pouvez aussi cliquer sur "WhatsApp direct".';
    });
  // ---------- Helpers ----------
  // const fmt = n => Number(n).toLocaleString(undefined,{maximumFractionDigits:2});
  const val = id => +document.getElementById(id).value || 0;

  // ---------- Onglets + explications dynamiques ----------
  const tabs = document.querySelectorAll('.sim-tab');
  const panels = document.querySelectorAll('.sim-panel');
  const expTitle = document.getElementById('exp-title');
  const expBody  = document.getElementById('exp-body');
  const expEx    = document.getElementById('exp-example');
  const fillBtn  = document.getElementById('fillExampleBtn');

  // Contenu d'explication & fonctions "Remplir l'exemple"
  const EXPLAINS = {
    '#sim1': {
      title: 'Conso & co√ªt (1 appareil)',
      body: "<strong>kWh</strong> = (W/1000) √ó heures/jour √ó jours. <strong>Co√ªt</strong> = kWh √ó tarif (CDF/kWh).",
      example: [
        'Puissance 1200 W, 3 h/j, 30 jours, tarif 800 CDF/kWh.',
        'Cliquez sur <em>Remplir l‚Äôexemple</em> puis <strong>Calculer</strong>.'
      ],
      fill: () => {
        document.getElementById('s1_w').value = 1200;
        document.getElementById('s1_h').value = 3;
        document.getElementById('s1_d').value = 30;
        document.getElementById('s1_t').value = 800;
      }
    },
    '#sim2': {
      title: 'Multi-appareils (somme des consommations)',
      body: "Addition de kWh individuels : <code>kWh = (W/1000) √ó h/j √ó jours</code>, puis total √ó tarif.",
      example: [
        'Ligne 1 : Frigo 150 W ‚Ä¢ 24 h/j ‚Ä¢ 30 j',
        'Ligne 2 : √âclairage 40 W ‚Ä¢ 5 h/j ‚Ä¢ 30 j',
        'Tarif 800 CDF/kWh. Cliquez sur <strong>Calculer total</strong>.'
      ],
      fill: () => {
        const rows = document.getElementById('s2_rows');
        rows.innerHTML = '';
        const addRow = (name,W,h,d) => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td class="py-1"><input class="w-full border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" value="${name}"></td>
            <td><input type="number" class="w-24 border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" value="${W}"></td>
            <td><input type="number" class="w-20 border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" value="${h}"></td>
            <td><input type="number" class="w-20 border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" value="${d}"></td>
            <td><button class="text-red-600 px-2 py-1" onclick="this.closest('tr').remove()">‚úñ</button></td>
          `;
          rows.appendChild(tr);
        };
        document.getElementById('s2_tarif').value = 800;
        addRow('Frigo',150,24,30);
        addRow('√âclairage',40,5,30);
      }
    },
    '#sim3': {
      title: 'Dimensionnement solaire (PV + batteries)',
      body: "PV ‚âà conso_jour / (PSH √ó rendement_syst√®me). Batteries ‚âà (conso_jour √ó jours)/ (DoD √ó Œ∑ onduleur).",
      example: [
        'Conso 15 kWh/j ‚Ä¢ PSH 5 h ‚Ä¢ Rendement 0,75',
        'Autonomie 1,5 j ‚Ä¢ DoD 0,8 ‚Ä¢ Œ∑ onduleur 0,92',
        'Panneau 550 W ‚Ä¢ Batterie 48 V ‚Ä¢ Pointe 3500 W.'
      ],
      fill: () => {
        document.getElementById('s3_kwhd').value = 15;
        document.getElementById('s3_psh').value = 5;
        document.getElementById('s3_sysEff').value = 0.75;
        document.getElementById('s3_days').value = 1.5;
        document.getElementById('s3_dod').value = 0.8;
        document.getElementById('s3_invEff').value = 0.92;
        document.getElementById('s3_pvw').value = 550;
        document.getElementById('s3_vbat').value = 48;
        document.getElementById('s3_peak').value = 3500;
      }
    },
    '#sim4': {
      title: 'Autonomie batterie',
      body: "<strong>h</strong> = (kWh_batt √ó DoD √ó Œ∑ onduleur) / (Charge_W/1000).",
      example: [
        'Batterie 10 kWh ‚Ä¢ DoD 0,8 ‚Ä¢ Œ∑ 0,92',
        'Charge continue 800 W.',
        'Cliquer sur <strong>Calculer</strong>.'
      ],
      fill: () => {
        document.getElementById('s4_kwh').value = 10;
        document.getElementById('s4_dod').value = 0.8;
        document.getElementById('s4_eff').value = 0.92;
        document.getElementById('s4_w').value = 800;
      }
    },
    '#sim5': {
      title: 'Section de c√¢ble & chute de tension',
      body: "ŒîV(V) = (2 √ó L √ó I √ó œÅ)/A ; %ŒîV = ŒîV/V √ó 100. Choix de la section la plus petite respectant %ŒîV max.",
      example: [
        'L=30 m ‚Ä¢ I=16 A ‚Ä¢ V=230 V ‚Ä¢ Mat√©riau=Cuivre',
        'Chute max autoris√©e 3 %.',
        'Cliquer sur <strong>Dimensionner</strong>.'
      ],
      fill: () => {
        document.getElementById('s5_L').value = 30;
        document.getElementById('s5_I').value = 16;
        document.getElementById('s5_V').value = 230;
        document.getElementById('s5_mat').value = 'cu';
        document.getElementById('s5_max').value = 3;
      }
    },
    '#sim6': {
      title: 'S√©lecteur de groupe √©lectrog√®ne',
      body: "kVA ‚âà (W_r√©gime √ó k_surtension)/(1000 √ó PF) √ó marge. (PF‚âà0,8, marge‚âà1,25 par d√©faut).",
      example: [
        'W_r√©gime 5000 W ‚Ä¢ k_surtension 1,2',
        'PF 0,8 ‚Ä¢ marge 1,25.',
        'Cliquer sur <strong>Calculer</strong>.'
      ],
      fill: () => {
        document.getElementById('s6_w').value = 5000;
        document.getElementById('s6_k').value = 1.2;
        document.getElementById('s6_pf').value = 0.8;
        document.getElementById('s6_m').value = 1.25;
      }
    },
    '#sim7': {
      title: '√âclairage (lux & nb luminaires)',
      body: "Flux requis (lm) ‚âà (lux_cible √ó surface)/(UF √ó MF). Nb = ‚åà flux_requis / flux_luminaire ‚åâ.",
      example: [
        'Surface 50 m¬≤ ‚Ä¢ Lux 300',
        'UF 0,6 ‚Ä¢ MF 0,8 ‚Ä¢ 3000 lm par luminaire (24 W).',
        'Cliquer sur <strong>Calculer</strong>.'
      ],
      fill: () => {
        document.getElementById('s7_area').value = 50;
        document.getElementById('s7_lux').value = 300;
        document.getElementById('s7_uf').value = 0.6;
        document.getElementById('s7_mf').value = 0.8;
        document.getElementById('s7_lm').value = 3000;
        document.getElementById('s7_w').value = 24;
      }
    },
    '#sim8': {
      title: 'ROI solaire (√©conomies & retour)',
      body: "√âconomies ann√©e 1 = prod √ó tarif ‚àí maintenance. Payback ‚âà co√ªt / √©conomies. NPV = somme des √©conomies actualis√©es ‚àí co√ªt.",
      example: [
        'Co√ªt 8000 CDF ‚Ä¢ Prod 6000 kWh/an',
        'Tarif 800 FC/kWh ‚Ä¢ Maintenance 120 FC/an',
        'Horizon 20 ans ‚Ä¢ Index 3 % ‚Ä¢ Taux 8 %.'
      ],
      fill: () => {
        document.getElementById('s8_cost').value  = 8000;
        document.getElementById('s8_prod').value  = 6000;
        document.getElementById('s8_tarif').value = 800;
        document.getElementById('s8_maint').value = 120;
        document.getElementById('s8_years').value = 20;
        document.getElementById('s8_escal').value = 3;
        document.getElementById('s8_disc').value  = 8;
      }
    },
    '#sim9': {
      title: '√âquilibrage des phases (tri)',
      body: "D√©s√©quilibre (%) = (max ‚àí min)/moyenne √ó 100. Objectif : rapprocher les trois phases.",
      example: [
        'L1 : 1200, 800, 500',
        'L2 : 1000, 600',
        'L3 : 900, 700',
        'Cliquer sur <strong>Analyser</strong>.'
      ],
      fill: () => {
        document.getElementById('s9_l1').value = '1200, 800, 500';
        document.getElementById('s9_l2').value = '1000, 600';
        document.getElementById('s9_l3').value = '900, 700';
      }
    }
  };

  function renderExplain(targetId){
    const cfg = EXPLAINS[targetId];
    if(!cfg) return;
    expTitle.textContent = cfg.title;
    expBody.innerHTML = cfg.body;
    expEx.innerHTML = `
      <h4 class="font-semibold text-blue-200 mb-1">Exemple</h4>
      <ul class="list-disc pl-5 space-y-1">${cfg.example.map(li=>`<li>${li}</li>`).join('')}</ul>
    `;
    fillBtn.onclick = cfg.fill;
  }

  function activateTab(targetId) {
    panels.forEach(p => p.classList.add('hidden'));
    tabs.forEach(b => {
      const active = b.dataset.target === targetId;
      b.setAttribute('aria-selected', active ? 'true' : 'false');
      if (active) {
        b.classList.remove('bg-white/10','text-white','border-white/30');
        b.classList.add('bg-white','text-brand','border','border-black','shadow-card','font-semibold');
      } else {
        b.classList.remove('bg-white','text-brand','border-black','shadow-card','font-semibold');
        b.classList.add('bg-white/10','text-white','border','border-white/30');
      }
    });
    document.querySelector(targetId)?.classList.remove('hidden');
    renderExplain(targetId);
  }

  tabs.forEach(b => b.addEventListener('click', () => activateTab(b.dataset.target)));
  // Activer le premier par d√©faut
  activateTab('#sim1');

  // ---------- Calculs ----------
  // 1) Conso & co√ªt
  document.getElementById('s1_btn')?.addEventListener('click', ()=>{
    const W=val('s1_w'), h=val('s1_h'), d=val('s1_d'), t=val('s1_t');
    const kwh=(W/1000)*h*d, cost=kwh*t;
    document.getElementById('s1_kwh').textContent = fmt(kwh)+' kWh';
    document.getElementById('s1_cost').textContent = 'FC'+fmt(cost);
  });

  // 2) Multi
  const s2_rows=document.getElementById('s2_rows');
  document.getElementById('s2_add')?.addEventListener('click', ()=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`
      <td class="py-1"><input class="w-full border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" placeholder="Appareil"></td>
      <td><input type="number" class="w-24 border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" placeholder="W"></td>
      <td><input type="number" class="w-20 border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" placeholder="h/j"></td>
      <td><input type="number" class="w-20 border p-2 rounded bg-white dark:bg-slate-800 dark:border-slate-600" placeholder="jours"></td>
      <td><button class="text-red-600 px-2 py-1" onclick="this.closest('tr').remove()">‚úñ</button></td>
    `;
    s2_rows.appendChild(tr);
  });
  document.getElementById('s2_calc')?.addEventListener('click', ()=>{
    let kwh=0;
    s2_rows.querySelectorAll('tr').forEach(tr=>{
      const W=+tr.children[1].querySelector('input').value||0;
      const h=+tr.children[2].querySelector('input').value||0;
      const d=+tr.children[3].querySelector('input').value||0;
      kwh += (W/1000)*h*d;
    });
    const t=+document.getElementById('s2_tarif').value||0;
    document.getElementById('s2_out').textContent = `Total: ${fmt(kwh)} kWh ‚Ä¢ ${fmt(kwh*t)} CDF`;
  });

  // 3) Solaire (PV+batt.)
  document.getElementById('s3_btn')?.addEventListener('click', ()=>{
    const kwhd=val('s3_kwhd'), psh=val('s3_psh'), sysEff=val('s3_sysEff')||1;
    const days=val('s3_days'), dod=val('s3_dod')||1, invEff=val('s3_invEff')||1;
    const panelW=val('s3_pvw')||400, vbat=val('s3_vbat')||48, peakW=val('s3_peak')||0;
    const pv_kw = kwhd/(psh*sysEff);
    const panels = Math.ceil((pv_kw*1000)/panelW);
    const bat_kwh = (kwhd*days)/(dod*invEff);
    const bat_Ah = (bat_kwh*1000)/vbat;
    const inv_kw = Math.max((peakW/1000)*1.25, pv_kw*0.6);
    document.getElementById('s3_pv').textContent  = `PV ‚âà ${fmt(pv_kw)} kW (${panels} panneaux de ${panelW} W)`;
    document.getElementById('s3_bat').textContent = `Batteries ‚âà ${fmt(bat_kwh)} kWh (‚âà ${fmt(bat_Ah)} Ah @ ${vbat} V)`;
    document.getElementById('s3_inv').textContent = `Onduleur recommand√© : ${fmt(inv_kw)} kW min`;
  });

  // 4) Autonomie batterie
  document.getElementById('s4_btn')?.addEventListener('click', ()=>{
    const kwh=val('s4_kwh'), dod=val('s4_dod')||1, eff=val('s4_eff')||1, W=val('s4_w')||1;
    const hours=(kwh*dod*eff)/(W/1000);
    const h=Math.floor(hours), m=Math.round((hours-h)*60);
    document.getElementById('s4_out').textContent = `${fmt(hours)} h (${h} h ${m} min)`;
  });

  // 5) C√¢ble & ŒîV
  document.getElementById('s5_btn')?.addEventListener('click', ()=>{
    const L=val('s5_L'), I=val('s5_I'), V=val('s5_V'), mat=document.getElementById('s5_mat').value;
    const maxPct=val('s5_max');
    const rho = (mat==='al') ? 2.826e-8 : 1.724e-8;
    const sections=[1.5,2.5,4,6,10,16,25,35,50,70,95,120,150,185,240];
    const dropPctFor = (mm2)=>{ const A=mm2*1e-6; const dV=(2*L*I*rho)/A; return (dV/V)*100; };
    let rec=sections[sections.length-1], pct=dropPctFor(rec);
    for(const s of sections){ const p=dropPctFor(s); if(p<=maxPct){ rec=s; pct=p; break; } }
    document.getElementById('s5_rec').textContent = `Section recommand√©e : ${rec} mm¬≤ (${mat.toUpperCase()})`;
    document.getElementById('s5_drop').textContent = `Chute r√©elle ‚âà ${fmt(pct)} %`;
  });

  // 6) Groupe √©lectrog√®ne
  document.getElementById('s6_btn')?.addEventListener('click', ()=>{
    const W=val('s6_w'), k=val('s6_k')||1, pf=val('s6_pf')||0.8, m=val('s6_m')||1.25;
    const kVA=(W*k)/(1000*pf)*m, kW=kVA*pf;
    document.getElementById('s6_out').textContent = `${fmt(kVA)} kVA (‚âà ${fmt(kW)} kW)`;
  });

  // 7) √âclairage
  document.getElementById('s7_btn')?.addEventListener('click', ()=>{
    const A=val('s7_area'), lux=val('s7_lux'), UF=val('s7_uf')||1, MF=val('s7_mf')||1, lm=val('s7_lm')||1, W=val('s7_w')||0;
    const fluxReq=(lux*A)/(UF*MF); const count=Math.max(1, Math.ceil(fluxReq/lm)); const power=count*W;
    document.getElementById('s7_count').textContent = `${count} luminaires`;
    document.getElementById('s7_power').textContent = `Puissance totale ‚âà ${fmt(power)} W`;
  });

  // 8) ROI solaire
  document.getElementById('s8_btn')?.addEventListener('click', ()=>{
    const cost=val('s8_cost'), prod=val('s8_prod'), tarif=val('s8_tarif'), maint=val('s8_maint');
    const years=Math.max(1, val('s8_years')||20), escal=(val('s8_escal')||0)/100, disc=(val('s8_disc')||0)/100;
    const year1=prod*tarif-maint; let cum=0, payback=null, npv=-cost;
    for(let y=1;y<=years;y++){ const saving=prod*(tarif*Math.pow(1+escal,y-1))-maint; cum+=saving; if(payback===null&&cum>=cost) payback=y; npv+=saving/Math.pow(1+disc,y); }
    document.getElementById('s8_sav').textContent = `√âconomies ann√©e 1 : ${fmt(year1)} CDF`;
    document.getElementById('s8_pb').textContent  = `Payback simple : ${payback ? payback+' ans' : 'n/a'}`;
    document.getElementById('s8_npv').textContent = `NPV (${years} ans) : ${fmt(npv)} CDF`;
  });

  // 9) √âquilibrage phases
  const parseLoads = v => (v||'').split(',').map(x=>+x.trim()).filter(n=>!isNaN(n)&&n>0);
  document.getElementById('s9_btn')?.addEventListener('click', ()=>{
    const L1=parseLoads(document.getElementById('s9_l1').value);
    const L2=parseLoads(document.getElementById('s9_l2').value);
    const L3=parseLoads(document.getElementById('s9_l3').value);
    const S=[L1.reduce((a,b)=>a+b,0), L2.reduce((a,b)=>a+b,0), L3.reduce((a,b)=>a+b,0)];
    const avg=(S[0]+S[1]+S[2])/3||1, maxI=S.indexOf(Math.max(...S)), minI=S.indexOf(Math.min(...S));
    const imb=((S[maxI]-S[minI])/avg)*100;
    const phases=[L1,L2,L3]; const largest=Math.max(...(phases[maxI].length?phases[maxI]:[0]));
    let sug='Ajoutez/retirez des charges pour √©quilibrer.';
    if(largest>0) sug=`D√©placer ‚âà ${fmt(largest)} W de L${maxI+1} ‚Üí L${minI+1} (d√©s√©quilibre actuel ‚âà ${fmt(imb)} %).`;
    document.getElementById('s9_tot').textContent = `L1: ${fmt(S[0])} W | L2: ${fmt(S[1])} W | L3: ${fmt(S[2])} W`;
    document.getElementById('s9_imb').textContent = `D√©s√©quilibre ‚âà ${fmt(imb)} %`;
    document.getElementById('s9_sug').textContent = sug;
  });



   // ----- Avis clients : ouverture/fermeture du modal -----
  const openReview = document.getElementById('openReview');
  const reviewDlg  = document.getElementById('reviewDlg');
  const reviewCancel = document.getElementById('reviewCancel');

  openReview?.addEventListener('click', () => reviewDlg.showModal());
  reviewCancel?.addEventListener('click', () => reviewDlg.close());
  // Ferme en cliquant hors du formulaire
  reviewDlg?.addEventListener('click', (e) => { if (e.target === reviewDlg) reviewDlg.close(); });

  // ----- √âtoiles cliquables -----
  const starsEl = document.getElementById('stars');
  const ratingInput = document.getElementById('rating');

  function renderStars(r){
    // recr√©e 5 spans √† chaque fois pour √™tre simple et fiable
    starsEl.innerHTML = '';
    for(let i=1;i<=5;i++){
      const s = document.createElement('span');
      s.textContent = i <= r ? '‚òÖ' : '‚òÜ';
      s.dataset.v = i;
      s.className = 'cursor-pointer';
      starsEl.appendChild(s);
    }
    ratingInput.value = r;
  }
  if (starsEl) {
    renderStars(5);
    starsEl.addEventListener('click', (e) => {
      const v = +e.target?.dataset?.v;
      if (v) renderStars(v);
    });
  }

  // ----- Envoi WhatsApp ou e-mail -----
  const reviewForm = document.getElementById('reviewForm');
  const reviewWA   = document.getElementById('reviewWA');
  const reviewMail = document.getElementById('reviewMail');

  function getReviewPayload(){
    const data = new FormData(reviewForm);
    const name = (data.get('name')||'').toString().trim();
    const rating = (data.get('rating')||'5').toString();
    const msg = (data.get('message')||'').toString().trim();
    return { name, rating, msg };
  }

  reviewWA?.addEventListener('click', () => {
    const { name, rating, msg } = getReviewPayload();
    const text = `Nouvel avis%0A%0ANom: ${encodeURIComponent(name)}%0ANote: ${rating}/5%0AMessage:%0A${encodeURIComponent(msg)}`;
    const wa = `https://wa.me/${waNumber}?text=${text}`;
    window.open(wa, '_blank');
    reviewDlg.close();
  });

  reviewMail?.addEventListener('click', () => {
    const { name, rating, msg } = getReviewPayload();
    const body = `Nom: ${encodeURIComponent(name)}%0ANote: ${encodeURIComponent(rating)}/5%0A%0A${encodeURIComponent(msg)}`;
    location.href = `mailto:masterengineeringdrc1@gmail.com?subject=Avis client MED&body=${body}`;
    reviewDlg.close();
  });
</script>
</body>
</html>
